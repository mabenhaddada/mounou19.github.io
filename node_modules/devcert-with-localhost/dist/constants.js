"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const path = require("path");
const mkdirp = require("mkdirp");
exports.isMac = process.platform === 'darwin';
exports.isLinux = process.platform === 'linux';
exports.isWindows = process.platform === 'win32';
if (exports.isWindows && process.env.LOCALAPPDATA) {
    exports.configDir = path.join(process.env.LOCALAPPDATA, 'devcert', 'config');
}
else {
    let uid = process.getuid && process.getuid();
    let userHome = (exports.isLinux && uid === 0) ? path.resolve('/usr/local/share') : require('os').homedir();
    exports.configDir = path.join(userHome, '.config', 'devcert');
}
exports.configPath = path.join.bind(path, exports.configDir);
exports.opensslConfTemplate = path.join(__dirname, '..', 'openssl.conf');
exports.opensslConfPath = exports.configPath('openssl.conf');
exports.rootKeyPath = exports.configPath('devcert-ca-root.key');
exports.rootCertPath = exports.configPath('devcert-ca-root.crt');
exports.caCertsDir = exports.configPath('certs');
mkdirp.sync(exports.configDir);
mkdirp.sync(exports.caCertsDir);
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiY29uc3RhbnRzLmpzIiwic291cmNlUm9vdCI6Ii9Vc2Vycy9ub3J0aG0vRGV2ZWxvcG1lbnQvb3NzL2RldmNlcnQvIiwic291cmNlcyI6WyJjb25zdGFudHMudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7QUFBQSw2QkFBNkI7QUFDN0IsaUNBQWlDO0FBRXBCLFFBQUEsS0FBSyxHQUFHLE9BQU8sQ0FBQyxRQUFRLEtBQUssUUFBUSxDQUFDO0FBQ3RDLFFBQUEsT0FBTyxHQUFHLE9BQU8sQ0FBQyxRQUFRLEtBQUssT0FBTyxDQUFDO0FBQ3ZDLFFBQUEsU0FBUyxHQUFHLE9BQU8sQ0FBQyxRQUFRLEtBQUssT0FBTyxDQUFDO0FBSXRELEVBQUUsQ0FBQyxDQUFDLGlCQUFTLElBQUksT0FBTyxDQUFDLEdBQUcsQ0FBQyxZQUFZLENBQUMsQ0FBQyxDQUFDO0lBQzFDLGlCQUFTLEdBQUcsSUFBSSxDQUFDLElBQUksQ0FBQyxPQUFPLENBQUMsR0FBRyxDQUFDLFlBQVksRUFBRSxTQUFTLEVBQUUsUUFBUSxDQUFDLENBQUM7QUFDdkUsQ0FBQztBQUFDLElBQUksQ0FBQyxDQUFDO0lBQ04sSUFBSSxHQUFHLEdBQUcsT0FBTyxDQUFDLE1BQU0sSUFBSSxPQUFPLENBQUMsTUFBTSxFQUFFLENBQUM7SUFDN0MsSUFBSSxRQUFRLEdBQUcsQ0FBQyxlQUFPLElBQUksR0FBRyxLQUFLLENBQUMsQ0FBQyxHQUFHLElBQUksQ0FBQyxPQUFPLENBQUMsa0JBQWtCLENBQUMsR0FBRyxPQUFPLENBQUMsSUFBSSxDQUFDLENBQUMsT0FBTyxFQUFFLENBQUM7SUFDbkcsaUJBQVMsR0FBRyxJQUFJLENBQUMsSUFBSSxDQUFDLFFBQVEsRUFBRSxTQUFTLEVBQUUsU0FBUyxDQUFDLENBQUM7QUFDeEQsQ0FBQztBQUNZLFFBQUEsVUFBVSxHQUEwQyxJQUFJLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxJQUFJLEVBQUUsaUJBQVMsQ0FBQyxDQUFDO0FBRXBGLFFBQUEsbUJBQW1CLEdBQUcsSUFBSSxDQUFDLElBQUksQ0FBQyxTQUFTLEVBQUUsSUFBSSxFQUFFLGNBQWMsQ0FBQyxDQUFDO0FBQ2pFLFFBQUEsZUFBZSxHQUFHLGtCQUFVLENBQUMsY0FBYyxDQUFDLENBQUM7QUFDN0MsUUFBQSxXQUFXLEdBQUcsa0JBQVUsQ0FBQyxxQkFBcUIsQ0FBQyxDQUFDO0FBQ2hELFFBQUEsWUFBWSxHQUFHLGtCQUFVLENBQUMscUJBQXFCLENBQUMsQ0FBQztBQUNqRCxRQUFBLFVBQVUsR0FBRyxrQkFBVSxDQUFDLE9BQU8sQ0FBQyxDQUFDO0FBRTlDLE1BQU0sQ0FBQyxJQUFJLENBQUMsaUJBQVMsQ0FBQyxDQUFDO0FBQ3ZCLE1BQU0sQ0FBQyxJQUFJLENBQUMsa0JBQVUsQ0FBQyxDQUFDIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0ICogYXMgcGF0aCBmcm9tICdwYXRoJztcbmltcG9ydCAqIGFzIG1rZGlycCBmcm9tICdta2RpcnAnO1xuXG5leHBvcnQgY29uc3QgaXNNYWMgPSBwcm9jZXNzLnBsYXRmb3JtID09PSAnZGFyd2luJztcbmV4cG9ydCBjb25zdCBpc0xpbnV4ID0gcHJvY2Vzcy5wbGF0Zm9ybSA9PT0gJ2xpbnV4JztcbmV4cG9ydCBjb25zdCBpc1dpbmRvd3MgPSBwcm9jZXNzLnBsYXRmb3JtID09PSAnd2luMzInO1xuXG4vLyB1c2UgJUxPQ0FMQVBQREFUQSUvZGV2Y2VydCBvbiBXaW5kb3dzIG90aGVyd2lzZSB1c2Ugfi8uY29uZmlnL2RldmNlcnRcbmV4cG9ydCBsZXQgY29uZmlnRGlyOiBzdHJpbmc7XG5pZiAoaXNXaW5kb3dzICYmIHByb2Nlc3MuZW52LkxPQ0FMQVBQREFUQSkge1xuICBjb25maWdEaXIgPSBwYXRoLmpvaW4ocHJvY2Vzcy5lbnYuTE9DQUxBUFBEQVRBLCAnZGV2Y2VydCcsICdjb25maWcnKTtcbn0gZWxzZSB7XG4gIGxldCB1aWQgPSBwcm9jZXNzLmdldHVpZCAmJiBwcm9jZXNzLmdldHVpZCgpO1xuICBsZXQgdXNlckhvbWUgPSAoaXNMaW51eCAmJiB1aWQgPT09IDApID8gcGF0aC5yZXNvbHZlKCcvdXNyL2xvY2FsL3NoYXJlJykgOiByZXF1aXJlKCdvcycpLmhvbWVkaXIoKTtcbiAgY29uZmlnRGlyID0gcGF0aC5qb2luKHVzZXJIb21lLCAnLmNvbmZpZycsICdkZXZjZXJ0Jyk7XG59XG5leHBvcnQgY29uc3QgY29uZmlnUGF0aDogKC4uLnBhdGhTZWdtZW50czogc3RyaW5nW10pID0+IHN0cmluZyA9IHBhdGguam9pbi5iaW5kKHBhdGgsIGNvbmZpZ0Rpcik7XG5cbmV4cG9ydCBjb25zdCBvcGVuc3NsQ29uZlRlbXBsYXRlID0gcGF0aC5qb2luKF9fZGlybmFtZSwgJy4uJywgJ29wZW5zc2wuY29uZicpO1xuZXhwb3J0IGNvbnN0IG9wZW5zc2xDb25mUGF0aCA9IGNvbmZpZ1BhdGgoJ29wZW5zc2wuY29uZicpO1xuZXhwb3J0IGNvbnN0IHJvb3RLZXlQYXRoID0gY29uZmlnUGF0aCgnZGV2Y2VydC1jYS1yb290LmtleScpO1xuZXhwb3J0IGNvbnN0IHJvb3RDZXJ0UGF0aCA9IGNvbmZpZ1BhdGgoJ2RldmNlcnQtY2Etcm9vdC5jcnQnKTtcbmV4cG9ydCBjb25zdCBjYUNlcnRzRGlyID0gY29uZmlnUGF0aCgnY2VydHMnKTtcblxubWtkaXJwLnN5bmMoY29uZmlnRGlyKTtcbm1rZGlycC5zeW5jKGNhQ2VydHNEaXIpO1xuIl19